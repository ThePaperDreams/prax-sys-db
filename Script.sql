-- MySQL Script generated by MySQL Workbench
-- 07/19/16 06:44:27
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema prax_sys_dev
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `prax_sys_dev` ;

-- -----------------------------------------------------
-- Schema prax_sys_dev
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `prax_sys_dev` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;
USE `prax_sys_dev` ;

-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_tipos_identificacion`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_tipos_identificacion` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_tipos_identificacion` (
  `id_tipo_documento` INT NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(30) NOT NULL,
  `abreviatura` VARCHAR(5) NULL,
  PRIMARY KEY (`id_tipo_documento`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_estado_deportistas`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_estado_deportistas` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_estado_deportistas` (
  `id_estado` INT NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(45) NULL,
  `descripcion` VARCHAR(200) NULL,
  `icono` VARCHAR(50) NULL,
  `etiqueta` VARCHAR(50) NULL,
  PRIMARY KEY (`id_estado`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_deportistas`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_deportistas` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_deportistas` (
  `id_deportista` INT NOT NULL AUTO_INCREMENT,
  `identificacion` VARCHAR(45) NOT NULL,
  `nombre1` VARCHAR(15) NOT NULL,
  `nombre2` VARCHAR(15) NULL,
  `apellido1` VARCHAR(20) NOT NULL,
  `apellido2` VARCHAR(20) NULL,
  `direccion` VARCHAR(80) NULL,
  `foto` VARCHAR(15) NULL,
  `telefono1` VARCHAR(10) NOT NULL,
  `telefono2` VARCHAR(10) NULL,
  `fecha_nacimiento` DATE NULL,
  `estado_id` INT NOT NULL DEFAULT 1,
  `tipo_documento_id` INT NOT NULL,
  PRIMARY KEY (`id_deportista`),
  INDEX `fk_tbl_personas_tbl_tipos_documento_idx` (`tipo_documento_id` ASC),
  INDEX `fk_tbl_personas_tbl_estado_deportistas1_idx` (`estado_id` ASC),
  CONSTRAINT `fk_tbl_personas_tbl_tipos_documento`
    FOREIGN KEY (`tipo_documento_id`)
    REFERENCES `prax_sys_dev`.`tbl_tipos_identificacion` (`id_tipo_documento`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_personas_tbl_estado_deportistas1`
    FOREIGN KEY (`estado_id`)
    REFERENCES `prax_sys_dev`.`tbl_estado_deportistas` (`id_estado`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_tipos_persona`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_tipos_persona` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_tipos_persona` (
  `id_tipo_persona` INT NOT NULL AUTO_INCREMENT,
  `tipo` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`id_tipo_persona`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_roles`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_roles` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_roles` (
  `id_rol` INT NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(45) NOT NULL,
  `descripcion` VARCHAR(300) NULL,
  `desarrollador` TINYINT(1) NOT NULL,
  PRIMARY KEY (`id_rol`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_usuarios`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_usuarios` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_usuarios` (
  `id_usuario` INT NOT NULL AUTO_INCREMENT,
  `rol_id` INT NOT NULL,
  `email` VARCHAR(80) NOT NULL,
  `nombre_usuario` VARCHAR(30) NOT NULL,
  `nombres` VARCHAR(40) NOT NULL,
  `apellidos` VARCHAR(40) NOT NULL,
  `telefono` VARCHAR(30) NULL,
  `clave` VARCHAR(180) NOT NULL,
  `recuperacion` TINYINT(1) NULL,
  `estado` TINYINT(1) NOT NULL DEFAULT 1,
  PRIMARY KEY (`id_usuario`),
  INDEX `fk_tbl_usuarios_tbl_roles1_idx` (`rol_id` ASC),
  CONSTRAINT `fk_tbl_usuarios_tbl_roles1`
    FOREIGN KEY (`rol_id`)
    REFERENCES `prax_sys_dev`.`tbl_roles` (`id_rol`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_fichas_tecnicas`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_fichas_tecnicas` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_fichas_tecnicas` (
  `id_ficha_tecnica` INT NOT NULL AUTO_INCREMENT,
  `amonestacion` INT NULL,
  `dorsal` INT NULL,
  `expulsion` INT NULL,
  `fecha_actualizacion` DATE NULL,
  `peso` FLOAT NULL,
  `pierna_habil` TINYINT(1) NULL,
  `entrenador_id` INT NOT NULL,
  `talla` FLOAT NULL,
  `valoracion` FLOAT NULL,
  `rh` VARCHAR(6) NULL,
  `deportista_id` INT NOT NULL,
  PRIMARY KEY (`id_ficha_tecnica`),
  INDEX `fk_tbl_fichas_tecnicas_tbl_personas1_idx` (`deportista_id` ASC),
  CONSTRAINT `fk_tbl_fichas_tecnicas_tbl_personas1`
    FOREIGN KEY (`deportista_id`)
    REFERENCES `prax_sys_dev`.`tbl_deportistas` (`id_deportista`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_categorias`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_categorias` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_categorias` (
  `id_categoria` INT NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(30) NOT NULL,
  `descripcion` TEXT NULL,
  `cupo_maximo` INT UNSIGNED NOT NULL,
  `cupo_minimo` INT UNSIGNED NULL,
  `tarifa` DOUBLE NOT NULL DEFAULT 0,
  `edad_minima` INT NOT NULL,
  `edad_maxima` INT NOT NULL,
  `estado` TINYINT UNSIGNED NOT NULL DEFAULT 1,
  `entrenador_id` INT NOT NULL,
  PRIMARY KEY (`id_categoria`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_asistencia`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_asistencia` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_asistencia` (
  `id_asistencia` INT NOT NULL AUTO_INCREMENT,
  `fecha` DATE NOT NULL,
  `novedad` TEXT NULL,
  `realizada_por` INT NOT NULL,
  `categoria_id` INT NOT NULL,
  PRIMARY KEY (`id_asistencia`),
  INDEX `fk_tbl_asistencia_tbl_categorias1_idx` (`categoria_id` ASC),
  CONSTRAINT `fk_tbl_asistencia_tbl_categorias1`
    FOREIGN KEY (`categoria_id`)
    REFERENCES `prax_sys_dev`.`tbl_categorias` (`id_categoria`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_posiciones`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_posiciones` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_posiciones` (
  `id_posicion` INT NOT NULL AUTO_INCREMENT,
  `posicion` VARCHAR(25) NOT NULL,
  `abreviatura` VARCHAR(5) NULL,
  PRIMARY KEY (`id_posicion`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_seguimientos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_seguimientos` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_seguimientos` (
  `id_seguimiento` INT NOT NULL AUTO_INCREMENT,
  `tipo_seguimiento` INT NOT NULL,
  `estado` INT NOT NULL DEFAULT 1,
  `evaluacion` INT NOT NULL,
  `fecha` DATE NOT NULL,
  `descripcion` VARCHAR(500) NOT NULL,
  `ficha_tecnica_id` INT NOT NULL,
  PRIMARY KEY (`id_seguimiento`),
  INDEX `fk_tbl_seguimientos_tbl_fichas_tecnicas1_idx` (`ficha_tecnica_id` ASC),
  CONSTRAINT `fk_tbl_seguimientos_tbl_fichas_tecnicas1`
    FOREIGN KEY (`ficha_tecnica_id`)
    REFERENCES `prax_sys_dev`.`tbl_fichas_tecnicas` (`id_ficha_tecnica`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_matriculas`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_matriculas` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_matriculas` (
  `id_matricula` INT NOT NULL AUTO_INCREMENT,
  `fecha_pago` DATE NOT NULL,
  `url_comprobante` VARCHAR(50) NULL,
  `estado` TINYINT(1) NOT NULL DEFAULT 1,
  `deportista_id` INT NOT NULL,
  `categoria_id` INT NOT NULL,
  `anio` YEAR NULL,
  `fecha_realizacion` DATETIME NULL,
  PRIMARY KEY (`id_matricula`),
  INDEX `fk_tbl_matriculas_tbl_personas1_idx` (`deportista_id` ASC),
  INDEX `fk_tbl_matriculas_tbl_categorias1_idx` (`categoria_id` ASC),
  CONSTRAINT `fk_tbl_matriculas_tbl_personas1`
    FOREIGN KEY (`deportista_id`)
    REFERENCES `prax_sys_dev`.`tbl_deportistas` (`id_deportista`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_matriculas_tbl_categorias1`
    FOREIGN KEY (`categoria_id`)
    REFERENCES `prax_sys_dev`.`tbl_categorias` (`id_categoria`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_pagos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_pagos` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_pagos` (
  `id_pago` INT NOT NULL AUTO_INCREMENT,
  `fecha` DATE NOT NULL,
  `valor_cancelado` DOUBLE NOT NULL,
  `url_comprobante` VARCHAR(200) NOT NULL,
  `estado` TINYINT(1) NOT NULL DEFAULT 1,
  `descuento` DOUBLE NULL,
  `razon_descuento` DOUBLE NULL,
  `matricula_id` INT NULL,
  PRIMARY KEY (`id_pago`),
  INDEX `fk_tbl_pagos_tbl_matriculas1_idx` (`matricula_id` ASC),
  CONSTRAINT `fk_tbl_pagos_tbl_matriculas1`
    FOREIGN KEY (`matricula_id`)
    REFERENCES `prax_sys_dev`.`tbl_matriculas` (`id_matricula`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_equipos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_equipos` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_equipos` (
  `id_equipo` INT NOT NULL AUTO_INCREMENT,
  `cupo_maximo` INT NOT NULL,
  `cupo_minimo` INT NOT NULL,
  `estado` INT NOT NULL DEFAULT 1,
  `posicion` INT NULL,
  `entrenador_id` INT NOT NULL,
  `deportista_id` INT NOT NULL,
  PRIMARY KEY (`id_equipo`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_torneos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_torneos` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_torneos` (
  `id_torneo` INT NOT NULL AUTO_INCREMENT,
  `cupo_maximo` INT NOT NULL,
  `cupo_minimo` INT NOT NULL,
  `edad_maxima` INT NOT NULL,
  `edad_minima` INT NOT NULL,
  `fecha_inicio` DATE NOT NULL,
  `fecha_fin` DATE NULL,
  `nombre` VARCHAR(50) NOT NULL,
  `observaciones` TEXT NULL,
  `tabla_posiciones` VARCHAR(45) NULL,
  `equipo_id` INT NOT NULL,
  PRIMARY KEY (`id_torneo`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_tipos_documento`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_tipos_documento` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_tipos_documento` (
  `id_tipo` INT NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(45) NOT NULL,
  `descripcion` VARCHAR(300) NULL,
  `padre_id` INT NULL,
  PRIMARY KEY (`id_tipo`),
  INDEX `fk_padre_id_tipos_documentos_idx` (`padre_id` ASC),
  CONSTRAINT `fk_padre_id_tipos_documentos`
    FOREIGN KEY (`padre_id`)
    REFERENCES `prax_sys_dev`.`tbl_tipos_documento` (`id_tipo`)
    ON DELETE RESTRICT
    ON UPDATE RESTRICT)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_documentos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_documentos` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_documentos` (
  `id_documento` INT NOT NULL AUTO_INCREMENT,
  `url` VARCHAR(50) NOT NULL,
  `titulo` VARCHAR(30) NOT NULL,
  `tipo_id` INT NOT NULL,
  `papelera` TINYINT(1) NULL DEFAULT 0,
  PRIMARY KEY (`id_documento`),
  INDEX `fk_tbl_documentos_tbl_tipos_documento1_idx` (`tipo_id` ASC),
  CONSTRAINT `fk_tbl_documentos_tbl_tipos_documento1`
    FOREIGN KEY (`tipo_id`)
    REFERENCES `prax_sys_dev`.`tbl_tipos_documento` (`id_tipo`)
    ON DELETE RESTRICT
    ON UPDATE RESTRICT)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_planes_trabajo`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_planes_trabajo` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_planes_trabajo` (
  `id_plan_trabajo` INT NOT NULL AUTO_INCREMENT,
  `descripcion` TEXT NOT NULL,
  `fecha_aplicacion` DATE NOT NULL,
  `estado` TINYINT(1) NOT NULL DEFAULT 1,
  `categoria_id` INT NOT NULL,
  PRIMARY KEY (`id_plan_trabajo`),
  INDEX `fk_tbl_planes_trabajo_tbl_categorias1_idx` (`categoria_id` ASC),
  CONSTRAINT `fk_tbl_planes_trabajo_tbl_categorias1`
    FOREIGN KEY (`categoria_id`)
    REFERENCES `prax_sys_dev`.`tbl_categorias` (`id_categoria`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_objetivos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_objetivos` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_objetivos` (
  `id_objetivo` INT NOT NULL AUTO_INCREMENT,
  `titulo` VARCHAR(20) NOT NULL,
  `descripcion` TEXT NULL,
  PRIMARY KEY (`id_objetivo`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_tipos_publicacion`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_tipos_publicacion` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_tipos_publicacion` (
  `id_tipo_publicacion` INT NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(80) NOT NULL,
  `descripcion` VARCHAR(200) NULL,
  PRIMARY KEY (`id_tipo_publicacion`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_estados_publicacion`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_estados_publicacion` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_estados_publicacion` (
  `id_estado` INT NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(50) NOT NULL,
  `descripcion` VARCHAR(200) NULL,
  PRIMARY KEY (`id_estado`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_publicaciones`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_publicaciones` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_publicaciones` (
  `id_publicacion` INT NOT NULL AUTO_INCREMENT,
  `titulo` VARCHAR(20) NOT NULL,
  `contenido` TEXT NULL,
  `consecutivo` INT UNSIGNED NULL,
  `fecha_publicacion` DATETIME NOT NULL,
  `fecha_disponibilidad` DATETIME NOT NULL,
  `tipo_id` INT NOT NULL,
  `estado_id` INT NOT NULL,
  `usuario_id` INT NOT NULL,
  PRIMARY KEY (`id_publicacion`),
  INDEX `fk_tbl_publicaciones_tbl_usuarios1_idx` (`usuario_id` ASC),
  INDEX `fk_tbl_publicaciones_tbl_tipos_publicacion1_idx` (`tipo_id` ASC),
  INDEX `fk_tbl_publicaciones_tbl_estados_publicacion1_idx` (`estado_id` ASC),
  CONSTRAINT `fk_tbl_publicaciones_tbl_usuarios1`
    FOREIGN KEY (`usuario_id`)
    REFERENCES `prax_sys_dev`.`tbl_usuarios` (`id_usuario`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_publicaciones_tbl_tipos_publicacion1`
    FOREIGN KEY (`tipo_id`)
    REFERENCES `prax_sys_dev`.`tbl_tipos_publicacion` (`id_tipo_publicacion`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_publicaciones_tbl_estados_publicacion1`
    FOREIGN KEY (`estado_id`)
    REFERENCES `prax_sys_dev`.`tbl_estados_publicacion` (`id_estado`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_tipos_evento`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_tipos_evento` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_tipos_evento` (
  `id_tipo` INT NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(45) NULL,
  `descripcion` VARCHAR(200) NULL,
  PRIMARY KEY (`id_tipo`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_eventos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_eventos` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_eventos` (
  `id_evento` INT NOT NULL AUTO_INCREMENT,
  `titulo` VARCHAR(200) NULL,
  `contenido` TEXT NULL,
  `fecha_publicacion` DATETIME NULL,
  `fecha_disponibilidad` DATETIME NULL,
  `tipo_id` INT NULL,
  `lugar` VARCHAR(200) NULL,
  `hora` TIME NULL,
  `estado` TINYINT NULL,
  PRIMARY KEY (`id_evento`),
  INDEX `fk_tbl_eventos_tbl_tipos_evento1_idx` (`tipo_id` ASC),
  CONSTRAINT `fk_tbl_eventos_tbl_tipos_evento1`
    FOREIGN KEY (`tipo_id`)
    REFERENCES `prax_sys_dev`.`tbl_tipos_evento` (`id_tipo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_galerias`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_galerias` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_galerias` (
  `id_galeria` INT NOT NULL AUTO_INCREMENT,
  `titulo` VARCHAR(20) NOT NULL,
  `evento_id` INT NOT NULL,
  PRIMARY KEY (`id_galeria`),
  INDEX `fk_tbl_galerias_tbl_eventos1_idx` (`evento_id` ASC),
  CONSTRAINT `fk_tbl_galerias_tbl_eventos1`
    FOREIGN KEY (`evento_id`)
    REFERENCES `prax_sys_dev`.`tbl_eventos` (`id_evento`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_imagenes`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_imagenes` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_imagenes` (
  `id_imagen` INT NOT NULL AUTO_INCREMENT,
  `descripcion` VARCHAR(100) NULL,
  `url` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id_imagen`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_rutas`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_rutas` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_rutas` (
  `id_ruta` INT NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(50) NOT NULL,
  `ruta` VARCHAR(50) NOT NULL,
  PRIMARY KEY (`id_ruta`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_rutas_x_rol`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_rutas_x_rol` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_rutas_x_rol` (
  `id_rxr` INT NOT NULL AUTO_INCREMENT,
  `rol_id` INT NOT NULL,
  `ruta_id` INT NOT NULL,
  `estado` TINYINT(1) NOT NULL DEFAULT 1,
  PRIMARY KEY (`id_rxr`),
  INDEX `fk_tbl_rutas_x_rol_tbl_controladores_rutas1_idx` (`ruta_id` ASC),
  INDEX `fk_tbl_rutas_x_rol_tbl_roles1_idx` (`rol_id` ASC),
  CONSTRAINT `fk_tbl_rutas_x_rol_tbl_controladores_rutas1`
    FOREIGN KEY (`ruta_id`)
    REFERENCES `prax_sys_dev`.`tbl_rutas` (`id_ruta`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_rutas_x_rol_tbl_roles1`
    FOREIGN KEY (`rol_id`)
    REFERENCES `prax_sys_dev`.`tbl_roles` (`id_rol`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_prestamos_deportista`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_prestamos_deportista` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_prestamos_deportista` (
  `id_prestamo` INT NOT NULL AUTO_INCREMENT,
  `clubOrigen` VARCHAR(100) NOT NULL,
  `clubDestino` VARCHAR(100) NOT NULL,
  `fecha_inicio` DATE NOT NULL,
  `fecha_fin` DATE NOT NULL,
  `estado` TINYINT(1) NOT NULL DEFAULT 1,
  `deportista_id` INT NOT NULL,
  `tipo_prestamo` ENUM('salida', 'entrada') NOT NULL,
  PRIMARY KEY (`id_prestamo`),
  INDEX `fk_tbl_prestamos_deportista_tbl_personas1_idx` (`deportista_id` ASC),
  CONSTRAINT `fk_tbl_prestamos_deportista_tbl_personas1`
    FOREIGN KEY (`deportista_id`)
    REFERENCES `prax_sys_dev`.`tbl_deportistas` (`id_deportista`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_categorias_implementos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_categorias_implementos` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_categorias_implementos` (
  `id_categoria` INT NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(50) NOT NULL,
  `descripcion` VARCHAR(300) NULL,
  PRIMARY KEY (`id_categoria`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_estados_implementos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_estados_implementos` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_estados_implementos` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `nombre` VARCHAR(30) NULL,
  `descripcion` VARCHAR(200) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_implementos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_implementos` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_implementos` (
  `id_implemento` INT NOT NULL AUTO_INCREMENT,
  `categoria_id` INT NOT NULL,
  `nombre` VARCHAR(100) NOT NULL,
  `descripcion` TEXT NULL,
  `unidades` INT UNSIGNED NOT NULL DEFAULT 0,
  `minimo_unidades` INT UNSIGNED NOT NULL DEFAULT 0,
  `maximo_unidades` INT UNSIGNED NOT NULL DEFAULT 0,
  `estado_id` INT NULL DEFAULT 1,
  PRIMARY KEY (`id_implemento`),
  INDEX `fk_tbl_implementos_tbl_categorias_implementos1_idx` (`categoria_id` ASC),
  INDEX `fk_tbl_implementos_tbl_estados_implementos1_idx` (`estado_id` ASC),
  CONSTRAINT `fk_tbl_implementos_tbl_categorias_implementos1`
    FOREIGN KEY (`categoria_id`)
    REFERENCES `prax_sys_dev`.`tbl_categorias_implementos` (`id_categoria`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_implementos_tbl_estados_implementos1`
    FOREIGN KEY (`estado_id`)
    REFERENCES `prax_sys_dev`.`tbl_estados_implementos` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_salidas`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_salidas` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_salidas` (
  `id_salida` INT NOT NULL AUTO_INCREMENT,
  `fecha_realizacion` DATETIME NOT NULL,
  `fecha_entrega` DATETIME NULL,
  `descripcion` TEXT NULL,
  `responsable_id` INT NOT NULL,
  `estado` TINYINT(1) NOT NULL DEFAULT 1,
  PRIMARY KEY (`id_salida`),
  INDEX `fk_tbl_salidas_tbl_usuarios1_idx` (`responsable_id` ASC),
  CONSTRAINT `fk_tbl_salidas_tbl_usuarios1`
    FOREIGN KEY (`responsable_id`)
    REFERENCES `prax_sys_dev`.`tbl_usuarios` (`id_usuario`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_entradas`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_entradas` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_entradas` (
  `id_entrada` INT NOT NULL AUTO_INCREMENT,
  `fecha_realizacion` DATETIME NOT NULL,
  `descripcion` TEXT NULL,
  `responsable_id` INT NOT NULL,
  `estado` TINYINT(1) NOT NULL,
  PRIMARY KEY (`id_entrada`),
  INDEX `fk_tbl_entradas_tbl_usuarios1_idx` (`responsable_id` ASC),
  CONSTRAINT `fk_tbl_entradas_tbl_usuarios1`
    FOREIGN KEY (`responsable_id`)
    REFERENCES `prax_sys_dev`.`tbl_usuarios` (`id_usuario`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_comprobantes`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_comprobantes` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_comprobantes` (
  `id_comprobante` INT NOT NULL AUTO_INCREMENT,
  `url` VARCHAR(200) NOT NULL,
  `descripcion` VARCHAR(500) NULL,
  `fecha` DATETIME NOT NULL,
  `pago_id` INT NOT NULL,
  PRIMARY KEY (`id_comprobante`),
  INDEX `fk_tbl_comprobantes_tbl_pagos1_idx` (`pago_id` ASC),
  CONSTRAINT `fk_tbl_comprobantes_tbl_pagos1`
    FOREIGN KEY (`pago_id`)
    REFERENCES `prax_sys_dev`.`tbl_pagos` (`id_pago`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_entradas_implementos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_entradas_implementos` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_entradas_implementos` (
  `id_si` INT NOT NULL AUTO_INCREMENT,
  `entrada_id` INT NOT NULL,
  `implemento_id` INT NOT NULL,
  `cantidad` INT UNSIGNED NOT NULL DEFAULT 0,
  `detalle` VARCHAR(300) NULL,
  PRIMARY KEY (`id_si`),
  INDEX `fk_tbl_salidas_implementos_tbl_implementos1_idx` (`implemento_id` ASC),
  INDEX `fk_tbl_salidas_implementos_tbl_entradas1_idx` (`entrada_id` ASC),
  CONSTRAINT `fk_tbl_salidas_implementos_tbl_implementos1`
    FOREIGN KEY (`implemento_id`)
    REFERENCES `prax_sys_dev`.`tbl_implementos` (`id_implemento`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_salidas_implementos_tbl_entradas1`
    FOREIGN KEY (`entrada_id`)
    REFERENCES `prax_sys_dev`.`tbl_entradas` (`id_entrada`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_salidas_implementos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_salidas_implementos` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_salidas_implementos` (
  `id_si` INT NOT NULL AUTO_INCREMENT,
  `salida_id` INT NOT NULL,
  `implemento_id` INT NOT NULL,
  `cantidad` INT NOT NULL DEFAULT 0,
  `detalle` VARCHAR(300) NULL,
  PRIMARY KEY (`id_si`),
  INDEX `fk_tbl_salidas_implementos_tbl_salidas1_idx` (`salida_id` ASC),
  INDEX `fk_tbl_salidas_implementos_tbl_implementos2_idx` (`implemento_id` ASC),
  CONSTRAINT `fk_tbl_salidas_implementos_tbl_salidas1`
    FOREIGN KEY (`salida_id`)
    REFERENCES `prax_sys_dev`.`tbl_salidas` (`id_salida`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_salidas_implementos_tbl_implementos2`
    FOREIGN KEY (`implemento_id`)
    REFERENCES `prax_sys_dev`.`tbl_implementos` (`id_implemento`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_objetivos_planes`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_objetivos_planes` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_objetivos_planes` (
  `id_op` INT NOT NULL AUTO_INCREMENT,
  `objetivo_id` INT NOT NULL,
  `plan_id` INT NOT NULL,
  PRIMARY KEY (`id_op`),
  INDEX `fk_tbl_objetivos_planes_tbl_objetivos1_idx` (`objetivo_id` ASC),
  INDEX `fk_tbl_objetivos_planes_tbl_planes_trabajo1_idx` (`plan_id` ASC),
  CONSTRAINT `fk_tbl_objetivos_planes_tbl_objetivos1`
    FOREIGN KEY (`objetivo_id`)
    REFERENCES `prax_sys_dev`.`tbl_objetivos` (`id_objetivo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_objetivos_planes_tbl_planes_trabajo1`
    FOREIGN KEY (`plan_id`)
    REFERENCES `prax_sys_dev`.`tbl_planes_trabajo` (`id_plan_trabajo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_fichas_posiciones`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_fichas_posiciones` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_fichas_posiciones` (
  `id_fp` INT NOT NULL AUTO_INCREMENT,
  `ficha_id` INT NOT NULL,
  `posicion_id` INT NOT NULL,
  PRIMARY KEY (`id_fp`),
  INDEX `fk_tbl_fichas_posiciones_tbl_fichas_tecnicas1_idx` (`ficha_id` ASC),
  INDEX `fk_tbl_fichas_posiciones_tbl_posiciones1_idx` (`posicion_id` ASC),
  CONSTRAINT `fk_tbl_fichas_posiciones_tbl_fichas_tecnicas1`
    FOREIGN KEY (`ficha_id`)
    REFERENCES `prax_sys_dev`.`tbl_fichas_tecnicas` (`id_ficha_tecnica`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_fichas_posiciones_tbl_posiciones1`
    FOREIGN KEY (`posicion_id`)
    REFERENCES `prax_sys_dev`.`tbl_posiciones` (`id_posicion`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_deportistas_equipos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_deportistas_equipos` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_deportistas_equipos` (
  `id_de` INT NOT NULL AUTO_INCREMENT,
  `deportista_id` INT NOT NULL,
  `equipo_id` INT NOT NULL,
  PRIMARY KEY (`id_de`),
  INDEX `fk_tbl_deportistas_equipos_tbl_equipos1_idx` (`equipo_id` ASC),
  INDEX `fk_tbl_deportistas_equipos_tbl_personas1_idx` (`deportista_id` ASC),
  CONSTRAINT `fk_tbl_deportistas_equipos_tbl_equipos1`
    FOREIGN KEY (`equipo_id`)
    REFERENCES `prax_sys_dev`.`tbl_equipos` (`id_equipo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_deportistas_equipos_tbl_personas1`
    FOREIGN KEY (`deportista_id`)
    REFERENCES `prax_sys_dev`.`tbl_deportistas` (`id_deportista`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_equipos_torneos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_equipos_torneos` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_equipos_torneos` (
  `id_et` INT NOT NULL AUTO_INCREMENT,
  `equipo_id` INT NOT NULL,
  `torneo_id` INT NOT NULL,
  PRIMARY KEY (`id_et`),
  INDEX `fk_tbl_equipos_torneos_tbl_equipos1_idx` (`equipo_id` ASC),
  INDEX `fk_tbl_equipos_torneos_tbl_torneos1_idx` (`torneo_id` ASC),
  CONSTRAINT `fk_tbl_equipos_torneos_tbl_equipos1`
    FOREIGN KEY (`equipo_id`)
    REFERENCES `prax_sys_dev`.`tbl_equipos` (`id_equipo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_equipos_torneos_tbl_torneos1`
    FOREIGN KEY (`torneo_id`)
    REFERENCES `prax_sys_dev`.`tbl_torneos` (`id_torneo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_opmenu`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_opmenu` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_opmenu` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `texto` VARCHAR(45) NOT NULL,
  `ruta_id` INT NOT NULL,
  `padre_id` INT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_tbl_opmenu_tbl_rutas1_idx` (`ruta_id` ASC),
  INDEX `fk_tbl_opmenu_padre_id_idx` (`padre_id` ASC),
  CONSTRAINT `fk_tbl_opmenu_tbl_rutas1`
    FOREIGN KEY (`ruta_id`)
    REFERENCES `prax_sys_dev`.`tbl_rutas` (`id_ruta`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_opmenu_padre_id`
    FOREIGN KEY (`padre_id`)
    REFERENCES `prax_sys_dev`.`tbl_opmenu` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_imagenes_galerias`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_imagenes_galerias` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_imagenes_galerias` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `imagen_id` INT NOT NULL,
  `galeria_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_tbl_imagenes_galerias_tbl_imagenes1_idx` (`imagen_id` ASC),
  INDEX `fk_tbl_imagenes_galerias_tbl_galerias1_idx` (`galeria_id` ASC),
  CONSTRAINT `fk_tbl_imagenes_galerias_tbl_imagenes1`
    FOREIGN KEY (`imagen_id`)
    REFERENCES `prax_sys_dev`.`tbl_imagenes` (`id_imagen`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_imagenes_galerias_tbl_galerias1`
    FOREIGN KEY (`galeria_id`)
    REFERENCES `prax_sys_dev`.`tbl_galerias` (`id_galeria`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_acudientes`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_acudientes` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_acudientes` (
  `id_acudiente` INT NOT NULL AUTO_INCREMENT,
  `nombre1` VARCHAR(20) NOT NULL,
  `nombre2` VARCHAR(20) NULL,
  `apellido1` VARCHAR(20) NOT NULL,
  `apellido2` VARCHAR(20) NULL,
  `tipo_doc_id` INT NOT NULL,
  `identificacion` VARCHAR(15) NOT NULL,
  `telefono1` VARCHAR(15) NULL,
  `telefono2` VARCHAR(15) NULL,
  `email` VARCHAR(60) NULL,
  `direccion` VARCHAR(80) NULL,
  `estado` TINYINT(1) NULL,
  PRIMARY KEY (`id_acudiente`),
  INDEX `fk_tbl_acudientes_tbl_tipos_identificacion1_idx` (`tipo_doc_id` ASC),
  CONSTRAINT `fk_tbl_acudientes_tbl_tipos_identificacion1`
    FOREIGN KEY (`tipo_doc_id`)
    REFERENCES `prax_sys_dev`.`tbl_tipos_identificacion` (`id_tipo_documento`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_deportistas_acudientes`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_deportistas_acudientes` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_deportistas_acudientes` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `acudiente_id` INT NOT NULL,
  `deportista_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_tbl_deportistas_acudientes_tbl_personas2_idx` (`deportista_id` ASC),
  INDEX `fk_tbl_deportistas_acudientes_tbl_acudientes1_idx` (`acudiente_id` ASC),
  CONSTRAINT `fk_tbl_deportistas_acudientes_tbl_personas2`
    FOREIGN KEY (`deportista_id`)
    REFERENCES `prax_sys_dev`.`tbl_deportistas` (`id_deportista`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_deportistas_acudientes_tbl_acudientes1`
    FOREIGN KEY (`acudiente_id`)
    REFERENCES `prax_sys_dev`.`tbl_acudientes` (`id_acudiente`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_deportistas_documentos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_deportistas_documentos` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_deportistas_documentos` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `deportista_id` INT NOT NULL,
  `documento_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_tbl_personas_documentos_tbl_documentos1_idx` (`documento_id` ASC),
  INDEX `fk_tbl_personas_documentos_tbl_personas1_idx` (`deportista_id` ASC),
  CONSTRAINT `fk_tbl_personas_documentos_tbl_documentos1`
    FOREIGN KEY (`documento_id`)
    REFERENCES `prax_sys_dev`.`tbl_documentos` (`id_documento`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_personas_documentos_tbl_personas1`
    FOREIGN KEY (`deportista_id`)
    REFERENCES `prax_sys_dev`.`tbl_deportistas` (`id_deportista`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_faltas_x_matriculas`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_faltas_x_matriculas` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_faltas_x_matriculas` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `matricula_id` INT NOT NULL,
  `asistencia_id` INT NOT NULL,
  `justificacion` VARCHAR(500) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_tbl_faltas_x_matriculas_tbl_matriculas1_idx` (`matricula_id` ASC),
  INDEX `fk_tbl_faltas_x_matriculas_tbl_asistencia1_idx` (`asistencia_id` ASC),
  CONSTRAINT `fk_tbl_faltas_x_matriculas_tbl_matriculas1`
    FOREIGN KEY (`matricula_id`)
    REFERENCES `prax_sys_dev`.`tbl_matriculas` (`id_matricula`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_faltas_x_matriculas_tbl_asistencia1`
    FOREIGN KEY (`asistencia_id`)
    REFERENCES `prax_sys_dev`.`tbl_asistencia` (`id_asistencia`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `prax_sys_dev`.`tbl_acudientes_documentos`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `prax_sys_dev`.`tbl_acudientes_documentos` ;

CREATE TABLE IF NOT EXISTS `prax_sys_dev`.`tbl_acudientes_documentos` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `acudiente_id` INT NOT NULL,
  `documento_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_tbl_acudientes_documentos_tbl_documentos1_idx` (`documento_id` ASC),
  INDEX `fk_tbl_acudientes_documentos_tbl_acudientes1_idx` (`acudiente_id` ASC),
  CONSTRAINT `fk_tbl_acudientes_documentos_tbl_documentos1`
    FOREIGN KEY (`documento_id`)
    REFERENCES `prax_sys_dev`.`tbl_documentos` (`id_documento`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_tbl_acudientes_documentos_tbl_acudientes1`
    FOREIGN KEY (`acudiente_id`)
    REFERENCES `prax_sys_dev`.`tbl_acudientes` (`id_acudiente`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `prax_sys_dev`.`tbl_tipos_identificacion`
-- -----------------------------------------------------
START TRANSACTION;
USE `prax_sys_dev`;
INSERT INTO `prax_sys_dev`.`tbl_tipos_identificacion` (`id_tipo_documento`, `nombre`, `abreviatura`) VALUES (1, 'Cédula', 'CC');
INSERT INTO `prax_sys_dev`.`tbl_tipos_identificacion` (`id_tipo_documento`, `nombre`, `abreviatura`) VALUES (2, 'Registro civil', 'RC');
INSERT INTO `prax_sys_dev`.`tbl_tipos_identificacion` (`id_tipo_documento`, `nombre`, `abreviatura`) VALUES (3, 'Tarjeta de identidad', 'TI');

COMMIT;


-- -----------------------------------------------------
-- Data for table `prax_sys_dev`.`tbl_estado_deportistas`
-- -----------------------------------------------------
START TRANSACTION;
USE `prax_sys_dev`;
INSERT INTO `prax_sys_dev`.`tbl_estado_deportistas` (`id_estado`, `nombre`, `descripcion`, `icono`, `etiqueta`) VALUES (2, 'Inactivo', NULL, NULL, NULL);
INSERT INTO `prax_sys_dev`.`tbl_estado_deportistas` (`id_estado`, `nombre`, `descripcion`, `icono`, `etiqueta`) VALUES (8, 'Préstamo', 'De otro club a praxis', NULL, NULL);
INSERT INTO `prax_sys_dev`.`tbl_estado_deportistas` (`id_estado`, `nombre`, `descripcion`, `icono`, `etiqueta`) VALUES (7, 'Prestado', 'De praxis a otro club', NULL, NULL);
INSERT INTO `prax_sys_dev`.`tbl_estado_deportistas` (`id_estado`, `nombre`, `descripcion`, `icono`, `etiqueta`) VALUES (6, 'Retirado', NULL, NULL, NULL);
INSERT INTO `prax_sys_dev`.`tbl_estado_deportistas` (`id_estado`, `nombre`, `descripcion`, `icono`, `etiqueta`) VALUES (5, 'Sancionado', NULL, NULL, NULL);
INSERT INTO `prax_sys_dev`.`tbl_estado_deportistas` (`id_estado`, `nombre`, `descripcion`, `icono`, `etiqueta`) VALUES (3, 'Eliminado', '', NULL, NULL);
INSERT INTO `prax_sys_dev`.`tbl_estado_deportistas` (`id_estado`, `nombre`, `descripcion`, `icono`, `etiqueta`) VALUES (4, 'Lista de Espera', '', NULL, NULL);
INSERT INTO `prax_sys_dev`.`tbl_estado_deportistas` (`id_estado`, `nombre`, `descripcion`, `icono`, `etiqueta`) VALUES (1, 'Activo', NULL, NULL, NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `prax_sys_dev`.`tbl_deportistas`
-- -----------------------------------------------------
START TRANSACTION;
USE `prax_sys_dev`;
INSERT INTO `prax_sys_dev`.`tbl_deportistas` (`id_deportista`, `identificacion`, `nombre1`, `nombre2`, `apellido1`, `apellido2`, `direccion`, `foto`, `telefono1`, `telefono2`, `fecha_nacimiento`, `estado_id`, `tipo_documento_id`) VALUES (1, '123456789', 'devi', 'lou', 'per', NULL, 'occidente', NULL, '123456', NULL, '1995-03-24', 1, 1);
INSERT INTO `prax_sys_dev`.`tbl_deportistas` (`id_deportista`, `identificacion`, `nombre1`, `nombre2`, `apellido1`, `apellido2`, `direccion`, `foto`, `telefono1`, `telefono2`, `fecha_nacimiento`, `estado_id`, `tipo_documento_id`) VALUES (2, '123742764', 'Bryan', NULL, 'Bedoya', NULL, 'Calle', NULL, '62374673', NULL, '1995-03-24', 8, 3);
INSERT INTO `prax_sys_dev`.`tbl_deportistas` (`id_deportista`, `identificacion`, `nombre1`, `nombre2`, `apellido1`, `apellido2`, `direccion`, `foto`, `telefono1`, `telefono2`, `fecha_nacimiento`, `estado_id`, `tipo_documento_id`) VALUES (3, '987987897', 'Cristian', NULL, 'Martinez', NULL, 'Calle', NULL, '62374673', NULL, '1994-03-04', 1, 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `prax_sys_dev`.`tbl_tipos_persona`
-- -----------------------------------------------------
START TRANSACTION;
USE `prax_sys_dev`;
INSERT INTO `prax_sys_dev`.`tbl_tipos_persona` (`id_tipo_persona`, `tipo`) VALUES (1, 'Usuario');
INSERT INTO `prax_sys_dev`.`tbl_tipos_persona` (`id_tipo_persona`, `tipo`) VALUES (2, 'Deportista');
INSERT INTO `prax_sys_dev`.`tbl_tipos_persona` (`id_tipo_persona`, `tipo`) VALUES (3, 'Acudiente');

COMMIT;


-- -----------------------------------------------------
-- Data for table `prax_sys_dev`.`tbl_roles`
-- -----------------------------------------------------
START TRANSACTION;
USE `prax_sys_dev`;
INSERT INTO `prax_sys_dev`.`tbl_roles` (`id_rol`, `nombre`, `descripcion`, `desarrollador`) VALUES (1, 'Desarrollador', NULL, 1);
INSERT INTO `prax_sys_dev`.`tbl_roles` (`id_rol`, `nombre`, `descripcion`, `desarrollador`) VALUES (2, 'Administrador', NULL, 0);
INSERT INTO `prax_sys_dev`.`tbl_roles` (`id_rol`, `nombre`, `descripcion`, `desarrollador`) VALUES (3, 'Secretaria', NULL, 0);
INSERT INTO `prax_sys_dev`.`tbl_roles` (`id_rol`, `nombre`, `descripcion`, `desarrollador`) VALUES (4, 'Entrenador', NULL, 0);
INSERT INTO `prax_sys_dev`.`tbl_roles` (`id_rol`, `nombre`, `descripcion`, `desarrollador`) VALUES (5, 'Asistente', NULL, 0);
INSERT INTO `prax_sys_dev`.`tbl_roles` (`id_rol`, `nombre`, `descripcion`, `desarrollador`) VALUES (6, 'Visitante', NULL, 0);

COMMIT;


-- -----------------------------------------------------
-- Data for table `prax_sys_dev`.`tbl_usuarios`
-- -----------------------------------------------------
START TRANSACTION;
USE `prax_sys_dev`;
INSERT INTO `prax_sys_dev`.`tbl_usuarios` (`id_usuario`, `rol_id`, `email`, `nombre_usuario`, `nombres`, `apellidos`, `telefono`, `clave`, `recuperacion`, `estado`) VALUES (1, 1, 'demo@localhost.com', 'developer', 'Bryan', 'Bedoya', NULL, '7c4a8d09ca3762af61e59520943dc26494f8941b', NULL, 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `prax_sys_dev`.`tbl_categorias`
-- -----------------------------------------------------
START TRANSACTION;
USE `prax_sys_dev`;
INSERT INTO `prax_sys_dev`.`tbl_categorias` (`id_categoria`, `nombre`, `descripcion`, `cupo_maximo`, `cupo_minimo`, `tarifa`, `edad_minima`, `edad_maxima`, `estado`, `entrenador_id`) VALUES (1, 'prepony', NULL, 30, 15, 10000, 6, 10, 1, 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `prax_sys_dev`.`tbl_posiciones`
-- -----------------------------------------------------
START TRANSACTION;
USE `prax_sys_dev`;
INSERT INTO `prax_sys_dev`.`tbl_posiciones` (`id_posicion`, `posicion`, `abreviatura`) VALUES (1, 'Arquero', 'PT');
INSERT INTO `prax_sys_dev`.`tbl_posiciones` (`id_posicion`, `posicion`, `abreviatura`) VALUES (2, 'Defensa central', 'DFC');
INSERT INTO `prax_sys_dev`.`tbl_posiciones` (`id_posicion`, `posicion`, `abreviatura`) VALUES (3, 'Defensa lateral', 'DFL');
INSERT INTO `prax_sys_dev`.`tbl_posiciones` (`id_posicion`, `posicion`, `abreviatura`) VALUES (4, 'Medio campista central', 'MCC');
INSERT INTO `prax_sys_dev`.`tbl_posiciones` (`id_posicion`, `posicion`, `abreviatura`) VALUES (5, 'Medio campista externo', 'MCE');
INSERT INTO `prax_sys_dev`.`tbl_posiciones` (`id_posicion`, `posicion`, `abreviatura`) VALUES (6, 'Delantero centro', 'DC');
INSERT INTO `prax_sys_dev`.`tbl_posiciones` (`id_posicion`, `posicion`, `abreviatura`) VALUES (7, 'Delantero externo', 'DE');

COMMIT;


-- -----------------------------------------------------
-- Data for table `prax_sys_dev`.`tbl_tipos_documento`
-- -----------------------------------------------------
START TRANSACTION;
USE `prax_sys_dev`;
INSERT INTO `prax_sys_dev`.`tbl_tipos_documento` (`id_tipo`, `nombre`, `descripcion`, `padre_id`) VALUES (1, 'Documentos personales', NULL, NULL);
INSERT INTO `prax_sys_dev`.`tbl_tipos_documento` (`id_tipo`, `nombre`, `descripcion`, `padre_id`) VALUES (3, 'Boletines', NULL, NULL);
INSERT INTO `prax_sys_dev`.`tbl_tipos_documento` (`id_tipo`, `nombre`, `descripcion`, `padre_id`) VALUES (2, 'Recibos', NULL, NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `prax_sys_dev`.`tbl_planes_trabajo`
-- -----------------------------------------------------
START TRANSACTION;
USE `prax_sys_dev`;
INSERT INTO `prax_sys_dev`.`tbl_planes_trabajo` (`id_plan_trabajo`, `descripcion`, `fecha_aplicacion`, `estado`, `categoria_id`) VALUES (1, 'Plan de trabajo ....', '2016-06-17', 1, 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `prax_sys_dev`.`tbl_objetivos`
-- -----------------------------------------------------
START TRANSACTION;
USE `prax_sys_dev`;
INSERT INTO `prax_sys_dev`.`tbl_objetivos` (`id_objetivo`, `titulo`, `descripcion`) VALUES (1, 'Correr', NULL);
INSERT INTO `prax_sys_dev`.`tbl_objetivos` (`id_objetivo`, `titulo`, `descripcion`) VALUES (2, 'Driblar', NULL);
INSERT INTO `prax_sys_dev`.`tbl_objetivos` (`id_objetivo`, `titulo`, `descripcion`) VALUES (3, 'Saltar', NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `prax_sys_dev`.`tbl_tipos_publicacion`
-- -----------------------------------------------------
START TRANSACTION;
USE `prax_sys_dev`;
INSERT INTO `prax_sys_dev`.`tbl_tipos_publicacion` (`id_tipo_publicacion`, `nombre`, `descripcion`) VALUES (1, 'Noticia', NULL);
INSERT INTO `prax_sys_dev`.`tbl_tipos_publicacion` (`id_tipo_publicacion`, `nombre`, `descripcion`) VALUES (2, 'Circular', NULL);
INSERT INTO `prax_sys_dev`.`tbl_tipos_publicacion` (`id_tipo_publicacion`, `nombre`, `descripcion`) VALUES (3, 'Evento', NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `prax_sys_dev`.`tbl_estados_publicacion`
-- -----------------------------------------------------
START TRANSACTION;
USE `prax_sys_dev`;
INSERT INTO `prax_sys_dev`.`tbl_estados_publicacion` (`id_estado`, `nombre`, `descripcion`) VALUES (1, 'Borrador', NULL);
INSERT INTO `prax_sys_dev`.`tbl_estados_publicacion` (`id_estado`, `nombre`, `descripcion`) VALUES (2, 'Disponible', NULL);
INSERT INTO `prax_sys_dev`.`tbl_estados_publicacion` (`id_estado`, `nombre`, `descripcion`) VALUES (3, 'No disponible', NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `prax_sys_dev`.`tbl_categorias_implementos`
-- -----------------------------------------------------
START TRANSACTION;
USE `prax_sys_dev`;
INSERT INTO `prax_sys_dev`.`tbl_categorias_implementos` (`id_categoria`, `nombre`, `descripcion`) VALUES (1, 'Enseres', NULL);
INSERT INTO `prax_sys_dev`.`tbl_categorias_implementos` (`id_categoria`, `nombre`, `descripcion`) VALUES (2, 'Deportivos', NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `prax_sys_dev`.`tbl_estados_implementos`
-- -----------------------------------------------------
START TRANSACTION;
USE `prax_sys_dev`;
INSERT INTO `prax_sys_dev`.`tbl_estados_implementos` (`id`, `nombre`, `descripcion`) VALUES (1, 'Activo', NULL);
INSERT INTO `prax_sys_dev`.`tbl_estados_implementos` (`id`, `nombre`, `descripcion`) VALUES (2, 'Inactivo', NULL);
INSERT INTO `prax_sys_dev`.`tbl_estados_implementos` (`id`, `nombre`, `descripcion`) VALUES (3, 'Agotado', NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `prax_sys_dev`.`tbl_implementos`
-- -----------------------------------------------------
START TRANSACTION;
USE `prax_sys_dev`;
INSERT INTO `prax_sys_dev`.`tbl_implementos` (`id_implemento`, `categoria_id`, `nombre`, `descripcion`, `unidades`, `minimo_unidades`, `maximo_unidades`, `estado_id`) VALUES (1, 1, 'Silla Rimax', NULL, 10, 2, 10, NULL);
INSERT INTO `prax_sys_dev`.`tbl_implementos` (`id_implemento`, `categoria_id`, `nombre`, `descripcion`, `unidades`, `minimo_unidades`, `maximo_unidades`, `estado_id`) VALUES (2, 2, 'Balón', NULL, 10, 2, 10, NULL);

COMMIT;


-- -----------------------------------------------------
-- Data for table `prax_sys_dev`.`tbl_objetivos_planes`
-- -----------------------------------------------------
START TRANSACTION;
USE `prax_sys_dev`;
INSERT INTO `prax_sys_dev`.`tbl_objetivos_planes` (`id_op`, `objetivo_id`, `plan_id`) VALUES (1, 1, 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `prax_sys_dev`.`tbl_acudientes`
-- -----------------------------------------------------
START TRANSACTION;
USE `prax_sys_dev`;
INSERT INTO `prax_sys_dev`.`tbl_acudientes` (`id_acudiente`, `nombre1`, `nombre2`, `apellido1`, `apellido2`, `tipo_doc_id`, `identificacion`, `telefono1`, `telefono2`, `email`, `direccion`, `estado`) VALUES (1, 'Rolando', 'Adolfo', 'Jimenez', NULL, 1, '65465465', '45464444', NULL, NULL, NULL, 1);

COMMIT;


-- -----------------------------------------------------
-- Data for table `prax_sys_dev`.`tbl_deportistas_acudientes`
-- -----------------------------------------------------
START TRANSACTION;
USE `prax_sys_dev`;
INSERT INTO `prax_sys_dev`.`tbl_deportistas_acudientes` (`id`, `acudiente_id`, `deportista_id`) VALUES (1, 1, 2);

COMMIT;

